    <!DOCTYPE html>

    <html>
    <head>
		<title></title>
        <style>
           @import url(http://fonts.googleapis.com/css?family=Roboto|Nunito|Changa+one|Rock+Salt|Indie+Flower|Reenie+Beanie|IM+Fell+Great+Primer|Fredericka+the+Great|Special+Elite|Kranky);

            @font-face 
            {
                font-family: 'ColoredCrayons';
                src: url('../fonts/chalk/coloredCrayons.eot');
                src: url('../fonts/chalk/coloredCrayons.eot') format('embedded-opentype'),
                     url('../fonts/chalk/coloredCrayons.woff') format('woff'),
                     url('../fonts/chalk/coloredCrayons.ttf') format('truetype'),
                     url('../fonts/chalk/coloredCrayons.svg#Colored Crayons') format('svg');
            }

            html, body 
            {
                height: 100%;
                width: 100%;
                margin: 0px;
                padding: 0px;
                background-color: #000;
                color: #fff;
            }

            a {
                color: #fff !important;
            }

            #divHeader 
            {
                position: fixed;
                width: 100%; 
                height: 200px;                
                border: 1px #000 solid;
                overflow: hidden;                
                z-index: 999;
                top: 0px;
                left: 0px;
                background-color: #000;     
            }
            
            #divHeader .eCell 
            {
                position: absolute;
                color: #fff;
                font-family: 'ColoredCrayons';
                font-size: 55px;
                padding: 50px 50px;   
                cursor: move;
            }

            #divContent 
            {
                position: relative;
                width: 100%; 
                height: 100%;                
                border: 1px #000 solid;
                overflow: hidden;
                background-color: #000;
            }
                    
            #divContent .eCell 
            {
                position: absolute;
                /* border: 1px green solid; */
                color: #fff;
                padding: 5px;
            }
            
            #aList
            {
                position: fixed;
                top: 65px;
                left: 20px;
                z-index: 9999;
                color: #FFF;
                font-size: 20px;
                cursor: pointer;
            }

            #aRemove
            {
                position: fixed;
                top: 8px;
                left: 8px;
                z-index: 9999;
                color: #FFF;
                font-size: 27px;
                display: none;
            }   
        </style>

        <link type="text/css" rel="stylesheet" href="../css/bootstrap.css"> 
        <link type="text/css" rel="stylesheet" href="../css/carousel.css">   
        <link type="text/css" rel="stylesheet" href="../css/sentence.css">
    </head>
    <body>       
        <span id="aRemove" class="glyphicon glyphicon-remove"></span>
        <span id="aList" class="glyphicon glyphicon-chevron-down"></span>

        <div id="divHeader">
            <div class="wrapper">                                
            </div>          
        </div>        

        <div id="divContent">
            <div class="wrapper">                                
            </div>        
        </div>        
        
        <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
        <script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
        <script src="../js/jquery.eco-scroll.js"></script>  
        <script src="../js/sentence.js"></script>              
		<script>            
		$(function()
        {   
            var bList = false;   
            $("#aList").click(function() {
                bList = true;
                switchList(true, iCur);
            });            

            $("#aRemove").click(function() {
                bList = false;                
                switchList(false, iCur);
            });    
            
            function switchList(bShowList, iCurSel)
            {                
                var plugin = $("#divHeader").data("plugin_ecoScroll");
                if (bShowList)
                {
                    $("#aList").hide();
                    $("#aRemove").show();
                    $("#divHeader").css({height: "100%"});
                    plugin.settings.itemHeight = 100;
                    plugin.settings.axis = "y";
                    plugin.settings.momentum = true;
                    plugin.settings.snap = false;
                    plugin.initData();                        
                }
                else
                {
                    $("#aList").show();
                    $("#aRemove").hide();                    
                    $("#divHeader").css({height: "200px"});
                    plugin.settings.itemHeight = 200;
                    plugin.settings.axis = "x";
                    plugin.settings.momentum = false;
                    plugin.settings.snap = true;
                    plugin.initData();
                    $("#divHeader").data("plugin_ecoScroll").moveByCoord(-iCurSel, 0);    
                }
            }

            function save() {
                var i = $("#b_textarea").closest(".eCell").attr("i");                                
                if( i )
                {
                    if (arrT[iCur][i])                            
                        arrT[iCur][i].txt = $("#b_textarea").val();
                    else
                        arrT[iCur][i] = {$e: null, txt: $("#b_textarea").val()}; 
                }
            }

            var iCur = iPrev = 0;            
            var iTotal = 3;
            var arr = [
                {title: "I am ...", sentence: "I am "}, 
                {title: "I am grateful for ...", sentence: "I am grateful for "}, 
                {title: "Before I die ...", sentence: "Before I die I wanted to "} 
            ];
            var iCurSentence = arr[iCur].sentence;

            $("#divHeader").ecoScroll({
                itemWidth: "100%",
                itemHeight: "200",
                axis: "x", 
                snap: true,
                momentum: false,
                momentumSpeed: 1,
                onStart: function(oParam) 
                {
                    save();
                    return true;
                },
                onClick: function(oParam)
                {                    
                    if (bList && oParam.target.tagName == "A" )
                    {   
                        iCur = oParam.$e.attr("s");
                        if (arrT[iCur] == undefined)
                            arrT[iCur] = [];
                        bList = false;                    
                        switchList(false, iCur);
                    }
                },
                onShow:function(oParam) 
                {
                    if (oParam.bNew)
                    {   
                        var i = (oParam.y + oParam.x) % iTotal;                        
                        if (i < 0) 
                            i = iTotal + i;

                        oParam.$e.attr({"s": i})
                        .html("<a href='javascript:void(0)'>" + arr[i].title + "</a>");                        
                    }
                },
                onStop: function(oParam) 
                {
                    if (bList) return;                    
                    
                    iCur = (oParam.wrapperLeft / oParam.cellWidth) % iTotal;
                    if (iCur > 0) 
                        iCur = iTotal - iCur;
                    else
                        iCur = Math.abs(iCur);

                    if (arrT[iCur] == undefined)    
                        arrT[iCur] = [];

                    if (iCur != iPrev)  
                    {
                        iCurSentence = arr[iCur].sentence;
                        var oContent = $("#divContent").data("plugin_ecoScroll");
                        oContent.moveByCoord(0, 0);       
                        oContent.init()
                    }
                    iPrev = iCur;
                },
                onResize:function(oParam)
                {                    
                    $("#divHeader").data("plugin_ecoScroll").moveByCoord(-iCur, 0);       
                }
            });
                
            var iRowTotal = 40;
            var iPageSize = 500;
            var i, iCnt;
            var arrP = [], arrT = [];
          
            arrP[10] = {$e: null, txt: "Past testing testing 10 ..."};

            arrT[0] = [];
            arrT[0][10] = {$e: null, txt: "testing testing 123 ..."};            
            arrT[0][12] = {$e: null, txt: "testing testing 12 ..."};            
            arrT[0][13] = {$e: null, txt: "testing testing 13 ..."};            
            arrT[0][14] = {$e: null, txt: "testing testing 14 ..."};            
            arrT[0][15] = {$e: null, txt: "testing testing 15 ..."};            
            arrT[0][16] = {$e: null, txt: "testing testing 16 ..."};            
            arrT[0][100] = {$e: null, txt: "testing testing 100 ..."};
            arrT[0][1000] = {$e: null, txt: "testing testing 1000 ..."};
            arrT[0][50] = {$e: null, txt: "testing testing 50 ..."};
            arrT[0][500] = {$e: null, txt: "testing testing 500 ..."};
            arrT[0][5000] = {$e: null, txt: "testing testing 5000 ..."};        

            $("#divContent").ecoScroll({
                itemWidth: "500px",
                itemHeight: "50px",
                rangeX : [0, undefined],
                axis: "xy", 
                snap: false,
                momentum: true,
                momentumSpeed: 1,                
                onStart: function(oParam)
                {
                    if (oParam.target.tagName == "TEXTAREA")
                        return false;
                    else
                    {
                        save();
                        $("#b_textarea").trigger("blur");
                        return true;
                    }
                },
                onShow: function(oParam) 
                {
                    if (oParam.bNew)
                    {                           
                        i = oParam.y % iRowTotal;
                        if ( i < 0 ) 
                            i = iRowTotal + i;

                        i += oParam.x * iRowTotal;
                        
                        var sHTML = "<div class='sen'>" +
                        "<span class='s'>" + iCurSentence + "</span><span class='b'>";

                        oParam.$e.attr({"i": i});
                        if (i > -1)
                        {
                            if (arrT[iCur][i])
                                oParam.$e.html( sHTML + arrT[iCur][i].txt + "</span></div>" );
                            else
                                oParam.$e.html( sHTML + "</span></div>" );         
                            
                             oParam.$e.find(".sen").sentence({});
                        }
                        else
                        {
                            i = Math.abs(i);
                            if (arrP[i])
                                oParam.$e.html( sHTML + arrP[i].txt + "</span></div>" );
                            else
                                oParam.$e.html( sHTML + "</span></div>" );    

                            oParam.$e.find(".sen").sentence({});
                        }

                        var iPStart = Math.floor(i/iPageSize) * iPageSize;                        
                        if (arrT[iCur][iPStart] == undefined)
                            arrT[iCur][iPStart] = {$e: oParam.$e, txt: ""};   

                        if (arrT[iCur][iPStart].loaded == undefined)
                        {                                                     
                            //console.log("out - " + i + " = " + Math.floor(i/iPageSize) );
                            //loadNextT( iPStart );
                        }
                    }

                    if (iPrev != iCur)
                        oParam.$e.css({opacity:0}).animate({opacity: 1}, 500);
                }                
            });

            function loadNextT(iPStart)
            {
                var iCnt = 0;
                                
console.log("next start at " + iPStart);                                    

                for (iCnt = 0; iCnt<iPageSize; iCnt++)
                {            
                    if (arrT[iPStart+iCnt])
                    {
                        if (arrT[iPStart+iCnt].$e)
                            arrT[iPStart+iCnt].$e.text(iCurSentence + arrT[iPStart+iCnt].txt);
                    }
                    else                            
                        arrT[iPStart+iCnt] =  { $e: null, txt: "[T"+(iPStart+iCnt)+"]" };            
                }

                arrT[iPStart].loaded = true;
            }

        });
		</script>
    </body>
    </html>